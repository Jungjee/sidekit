

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FeaturesServer &mdash; SIDEKIT 0.1.16 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="SIDEKIT 0.1.16 documentation" href="index.html"/>
        <link rel="up" title="Main Classes" href="sidekit_classes.html"/>
        <link rel="next" title="Mixture" href="mixture.html"/>
        <link rel="prev" title="Main Classes" href="sidekit_classes.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home"> SIDEKIT
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="aboutSIDEKIT.html">About SIDEKIT</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contact.html">Contact</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l2"><a class="reference internal" href="compatibilities.html">Compatibilities</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="howto.html">How to</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html">Quick installation</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial/shorttuto.html">Enter the SIDEKIT</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/featureExtraction.html">Extract acoustic features</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/ubmTraining.html">Train a Universal Background Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/factoranalysis.html">The unified Factor Analyser training</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html">Start with a tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial/RSR2015.html">RSR2015</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial/rsr2015_init.html">Prepare to run experiments on RSR2015</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial/rsr2015_gmm_ubm.html">Run a GMM-UBM system</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial/rsr2015_svm_gmm.html">Run a SVM-GMM system</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorial/SRE10.html">NIST-SRE 2010</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial/sre10_init.html">Prepare to run experiments on NIST-SRE 2010</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial/sre10_iv.html">Run an <cite>i</cite>-vector system</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="sidekit.html">SIDEKIT</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="sidekit_classes.html">Main Classes</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="">FeaturesServer</a></li>
<li class="toctree-l3"><a class="reference internal" href="mixture.html">Mixture</a></li>
<li class="toctree-l3"><a class="reference internal" href="statserver.html">StatServer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sidekit_modules.html">Additional modules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="sidekit_io.html">sidekit_io</a></li>
<li class="toctree-l3"><a class="reference internal" href="iv_scoring.html">iv_scoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="gmm_scoring.html">gmm_scoring</a></li>
<li class="toctree-l3"><a class="reference internal" href="sv_utils.html">sv_utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="svm_training.html">svm_training</a></li>
<li class="toctree-l3"><a class="reference internal" href="svm_scoring.html">svm_scoring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bosaris.html">The <strong>bosaris</strong> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="bosaris/license.html">BOSARIS License</a></li>
<li class="toctree-l3"><a class="reference internal" href="bosaris/detplot.html">DetPlot</a></li>
<li class="toctree-l3"><a class="reference internal" href="bosaris/idmap.html">IdMap</a></li>
<li class="toctree-l3"><a class="reference internal" href="bosaris/key.html">Key</a></li>
<li class="toctree-l3"><a class="reference internal" href="bosaris/ndx.html">Ndx</a></li>
<li class="toctree-l3"><a class="reference internal" href="bosaris/plotwindow.html">PlotWindow</a></li>
<li class="toctree-l3"><a class="reference internal" href="bosaris/scores.html">Scores</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="frontend.html">The <strong>frontend</strong> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="frontend/features.html">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="frontend/io.html">io</a></li>
<li class="toctree-l3"><a class="reference internal" href="frontend/normfeat.html">Normfeat</a></li>
<li class="toctree-l3"><a class="reference internal" href="frontend/vad.html">vad</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="libsvm.html">The <strong>libsvm</strong> package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="libsvm/libsvm_core.html">LIBSVM Core library</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Links.html">External links</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">References</a></li>
<li class="toctree-l1"><a class="reference internal" href="known_errors.html">Known errors and warnings</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">SIDEKIT</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="sidekit.html">SIDEKIT</a> &raquo;</li>
      
          <li><a href="sidekit_classes.html">Main Classes</a> &raquo;</li>
      
    <li>FeaturesServer</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/featuresserver.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="featuresserver">
<h1>FeaturesServer<a class="headerlink" href="#featuresserver" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="features_server.FeaturesServer">
<em class="property">class </em><code class="descclassname">features_server.</code><code class="descname">FeaturesServer</code><span class="sig-paren">(</span><em>input_dir='./', input_file_extension='.sph', label_dir='./', label_file_extension='.lbl', from_file='audio', config='sid_8k', single_channel_extension=[''], double_channel_extension=['_a', '_b'], sampling_frequency=None, lower_frequency=None, higher_frequency=None, linear_filters=None, log_filters=None, window_size=None, shift=None, ceps_number=None, snr=None, vad=None, feat_norm=None, log_e=None, delta=None, double_delta=None, rasta=None, keep_all_features=None, spec=False, mspec=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/features_server.html#FeaturesServer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#features_server.FeaturesServer" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for acoustic feature management.
FeaturesServer should be used to extract acoustic features (MFCC or LFCC)
from audio files in SPHERE, WAV or RAW PCM format.
It can also be used to read and write acoustic features from and to disk
in SPRO4 or HTK format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attr input_dir:</th><td class="field-body">directory where to load audio or feature files</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr input_file_extension:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">extension of the incoming files</td>
</tr>
<tr class="field-odd field"><th class="field-name">Attrlabel_dir:</th><td class="field-body">directory where to read and write label files</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr label_files_extension:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">extension of label files to read and write</td>
</tr>
<tr class="field-odd field"><th class="field-name">Attr from_file:</th><td class="field-body">format of the input files to read, can be <cite>audio</cite>, <cite>spro4</cite>
or <cite>htk</cite>, for audio files, format is given by the extension</td>
</tr>
<tr class="field-even field"><th class="field-name">Attr config:</th><td class="field-body">pre-defined configuration for speaker diarization or recognition
in 8 or 16kHz. Default is speaker recognition 8kHz</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Attr single_channel_extension:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">list with a single extension to add to 
the audio filename when processing a single channel file. 
Default is empty, means the feature file has the same name as 
the audio file</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr double_channel_extension:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">list of two channel extension to add 
to the audio filename when processing two channel files. 
Default is [&#8216;_a&#8217;, &#8216;_b&#8217;]</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Attr sampling_frequency:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">sample frequency in Hz, default is None, 
determine when reading the audio file</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr lower_frequency:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">lower frequency limit of the filter bank</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Attr higher_frequency:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">higher frequency limit of the filter bank</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr linear_filters:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">number of linear filters to use for LFCC extraction</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">Attr log_filters:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">number of linear filters to use for MFCC extraction</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr window_size:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">size of the sliding window in seconds</td>
</tr>
<tr class="field-odd field"><th class="field-name">Attr shift:</th><td class="field-body">time shift between two feature vectors</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr ceps_number:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">number of cepstral coefficients to extract</td>
</tr>
<tr class="field-odd field"><th class="field-name">Attr snr:</th><td class="field-body">snr level to consider for SNR-based voice activity detection</td>
</tr>
<tr class="field-even field"><th class="field-name">Attr vad:</th><td class="field-body">type of voice activity detection to use, can be &#8216;snr&#8217;, &#8216;energy&#8217; 
(using a three Gaussian detector) or &#8216;label&#8217; when reading the info from 
pre-computed label files</td>
</tr>
<tr class="field-odd field"><th class="field-name">Attr feat_norm:</th><td class="field-body">normalization of the acoustic features, can be 
&#8216;cms&#8217; for cepstral mean subtraction, &#8216;mvn&#8217; for mean variance 
normalization or &#8216;stg&#8217; for short term Gaussianization</td>
</tr>
<tr class="field-even field"><th class="field-name">Attr log_e:</th><td class="field-body">boolean, keep log energy</td>
</tr>
<tr class="field-odd field"><th class="field-name">Attr delta:</th><td class="field-body">boolean, add the first derivative of the cepstral coefficients</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr double_delta:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">boolean, add the second derivative of the cepstral 
coefficients</td>
</tr>
<tr class="field-odd field"><th class="field-name">Attr rasta:</th><td class="field-body">boolean, perform RASTA filtering</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Attr keep_all_features:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">boolean, if False, only features labeled as 
&#8220;speech&#8221; by the vad are saved if True, all features are saved and 
a label file is produced</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="features_server.FeaturesServer.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>show</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/features_server.html#FeaturesServer.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#features_server.FeaturesServer.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a cep from audio or mfcc file. This method loads all channels
available in the file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>show</strong> &#8211; the name of the show to load</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the cep array and the label array</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="features_server.FeaturesServer.load_and_stack">
<code class="descname">load_and_stack</code><span class="sig-paren">(</span><em>fileList</em>, <em>numThread=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/features_server.html#FeaturesServer.load_and_stack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#features_server.FeaturesServer.load_and_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a list of feature files and stack them in a unique ndarray. 
The list of files to load is splited in sublists processed in parallel</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fileList</strong> &#8211; a list of files to load</li>
<li><strong>numThread</strong> &#8211; numbe of thead (optional, default is 1)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="features_server.FeaturesServer.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>show</em>, <em>filename</em>, <em>mfcc_format</em>, <em>and_label=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/features_server.html#FeaturesServer.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#features_server.FeaturesServer.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the cep array in file</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>show</strong> &#8211; the name of the show to save (loaded if need)</li>
<li><strong>filename</strong> &#8211; the file name of the mffc file or a list of 2 filenames
for the case of double channel files</li>
<li><strong>mfcc_format</strong> &#8211; format of the mfcc file taken in values
[&#8216;pickle&#8217;, &#8216;spro4&#8217;, &#8216;htk&#8217;]</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body"><p class="first last">Exception if feature format is unknown</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="features_server.FeaturesServer.save_list">
<code class="descname">save_list</code><span class="sig-paren">(</span><em>audio_file_list</em>, <em>feature_file_list</em>, <em>mfcc_format</em>, <em>feature_dir</em>, <em>feature_file_extension</em>, <em>and_label=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/features_server.html#FeaturesServer.save_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#features_server.FeaturesServer.save_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that takes a list of audio files and extract features</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>audio_file_list</strong> &#8211; an array of string containing the name of the feature 
files to load</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="features_server.FeaturesServer.save_parallel">
<code class="descname">save_parallel</code><span class="sig-paren">(</span><em>input_audio_list</em>, <em>output_feature_list</em>, <em>mfcc_format</em>, <em>feature_dir</em>, <em>feature_file_extension</em>, <em>and_label=False</em>, <em>numThread=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/features_server.html#FeaturesServer.save_parallel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#features_server.FeaturesServer.save_parallel" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract features from audio file using parallel computation</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>input_audio_list</strong> &#8211; an array of string containing the name 
of the audio files to process</li>
<li><strong>output_feature_list</strong> &#8211; an array of string containing the 
name of the features files to save</li>
<li><strong>numThread</strong> &#8211; number of parallel process to run</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mixture.html" class="btn btn-neutral float-right" title="Mixture" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="sidekit_classes.html" class="btn btn-neutral" title="Main Classes" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Anthony LARCHER, Sylvain MEIGNIER &amp; Kong Aik LEE.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.16',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>